<div class="container">
  <div class="row row-header">
    <h3>{{vm.recruit.fullName}}</h3>
  </div>

    <!-- PEF Match-->
    <div class="col-xs-12 col-sm-3">
      <div class="well-black">

        <!-- id filter -->
        <div class="input-group">
          <input type="text" class="text-center" placeholder=" Search PEFs" ng-model="pefText">
        </div>

        <hr/>

        <!-- pef error filter-->
        <div class="horizontal">
          <div class="btn-group" data-toggle="buttons">
            <button class="btn btn-primary btn-sm" type="radio" ng-click="vm.fCategory=0"
                    ng-class="{'active': vm.fCategory===0}"> 0
            </button>
            <button class="btn btn-primary btn-sm" type="radio" ng-click="vm.fCategory=1"
                    ng-class="{'active': vm.fCategory===1}"> 1
            </button>
            <button class="btn btn-primary btn-sm" type="radio" ng-click="vm.fCategory=2"
                    ng-class="{'active': vm.fCategory===2}"> 2
            </button>
            <button class="btn btn-primary btn-sm" type="radio" ng-click="vm.fCategory=3"
                    ng-class="{'active': vm.fCategory===3}"> 3
            </button>
            <button class="btn btn-primary btn-sm" type="radio" ng-click="vm.fCategory=4"
                    ng-class="{'active': vm.fCategory===4}">4+
            </button>
            <button class="btn btn-primary btn-sm" type="radio" ng-click="vm.fCategory=''"
                    ng-class="{'active': vm.fCategory===''}">All
            </button>
          </div>
        </div>

        <hr/>

        <ul class="list-group">
          <li class="list-group-item" ng-click="vm.selectedPef=pef" ng-repeat="pef in vm.pefs | filter: {errCategory: vm.fCategory, pefCode: pefText}"
          ng-class="{'selected': pef===vm.selectedPef}">{{pef.pefCode}}
            <span class="badge badge-danger" ng-if="pef.errs > 0">{{pef.errs}}</span>
            <span class="text-primary pull-right" ng-if="pef.errs===0">
              <i class="fa fa-check-green fa-2x" ng-if="vm.canAssign(pef)"></i>
              <i class="fa fa-star fa-2x" ng-if="vm.isAssigned(pef)"></i>
            </span>
          </li>
        </ul>

      </div>
    </div>

  <!-- Selected PEF-->
  <div class="col-xs-12 col-sm-9">
    <div class="panel profile-panel" >
      <div class="panel-body">
        <span ng-if="vm.selectedPef">
      <h4>{{vm.selectedPef.pefCode + ' - ' + vm.selectedPef.description}}
        <button type="button" ng-if="vm.canAssign(vm.selectedPef)" class="btn btn-primary pull-right" ng-click="vm.toggleAssignment()">ASSIGN PEF</button>
        <span class="fa fa-star text-primary" ng-if="vm.isAssigned(vm.selectedPef)" uib-tooltip="Assigned" ng-click="vm.toggleAssignment()"></span></h4>
        </span>
      </div>
    </div>
  </div>

  <!-- Masonry Grid -->
  <div class="col-xs-12 col-sm-9">
    <div id="grid" class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 275}'>

      <!-- demog -->
      <div class="grid-item grid-item--demog">
        <div class="panel widget-panel">
          <div class="panel-body">
            <div class="text-center" uib-tooltip="DEMOGRAPHICS">
            <span class="fa-stack fa-4x text-primary">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-user fa-stack-1x fa-inverse"></i>
            </span>
            </div>

            <div class="panel small-fixed-panel leftmargin-10 pull-left" ng-class="{'text-danger' : vm.selectedPef.requirements.height.flag}">
              <div class="panel-bar"></div>

              <div class="panel-body">
                <div class="text-center">
                  <h5>{{vm.recruit.height.val}} in.</h5>
                  <h6>Height</h6>
                </div>
              </div>
            </div>

            <div class="panel small-fixed-panel leftmargin-10 pull-left" ng-class="{'text-danger' : vm.selectedPef.requirements.weight.flag}">
              <div class="panel-bar"></div>
              <div class="panel-body">
                <div class="text-center">
                  <h5 class="">{{vm.recruit.weight.val}} lbs</h5>
                  <h6>Weight</h6>
                </div>
              </div>
            </div>

            <div class="clearfix"></div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.age.flag}" uib-tooltip="{{vm.selectedPef.requirements.age.description}}">
              <label for="age" class="pull-left">Age: </label>
              <label id="age" class="label-border">{{vm.recruit.age.val}}</label>
            </div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.usCitizen.flag}">
              <label>
                <input type="checkbox" disabled ng-checked="vm.recruit.usCitizen.has">U.S. Citizen
              </label>
            </div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.usCitizenFamily.flag}">
              <label>
                <input type="checkbox" disabled ng-checked="vm.recruit.usCitizenFamily.has">U.S. Citizen (family)
              </label>
            </div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.clearance.flag}">
              <label for="clearance" class="pull-left">Clearance: </label>
              <label id="clearance" class="label-border">{{vm.recruit.clearance.val}}</label>
            </div>

          </div>
        </div>
      </div>

      <!-- education -->
      <div class="grid-item">
        <div class="panel widget-panel">
          <div class="panel-body">

          <div class="text-center" uib-tooltip="EDUCATION">
            <span class="fa-stack fa-4x text-primary">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-graduation-cap fa-stack-1x fa-inverse"></i>
            </span>
          </div>

          <div class="checkbox" ng-class="{'text-danger' : vm.selectedPef.requirements.tierGrad.flag}">
            <label><input type="checkbox" disabled ng-checked="vm.recruit.tierGrad.val===1">Tier 1 (High School)</label>
            <label><input type="checkbox" disabled ng-checked="vm.recruit.tierGrad.val===2">Tier 2 (Home School)</label>
          </div>

          <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.algebra.flag}">
            <label>
              <input type="checkbox" disabled ng-checked="vm.recruit.algebra.has">1 Year Algebra or Higher</label>
          </div>
          </div>

        </div>
      </div>

      <!-- TOE  -->
      <div class="grid-item grid-item--toe">
        <div class="panel widget-panel" uib-tooltip="TOE">
          <div class="panel-body">

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.toe.flag}">
              <label class="pull-left" for="toe">Term of Enlistment: </label>
              <label id="toe" class="label-border">{{vm.recruit.toe.val}}</label>
            </div>

          </div>
        </div>
      </div>

      <!-- test scores -->
      <div class="grid-item grid-item--scores">
        <div class="panel widget-panel">
          <div class="panel-body">
            <div class="text-center" uib-tooltip="TEST SCORES">
                <span class="fa-stack fa-4x text-primary">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-lightbulb-o fa-stack-1x fa-inverse"></i>
                </span>
            </div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.cl.flag===true}">
              <label class="col-sm-5">CL: </label>
              <label class="label-border">{{vm.recruit.cl.val}}</label>
            </div>
            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.el.flag===true}">
              <label class="col-sm-5">EL: </label>
              <label class="label-border">{{vm.recruit.el.val}}</label>
            </div>
            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.gt.flag===true}">
              <label class="col-sm-5">GT: </label>
              <label class="label-border">{{vm.recruit.gt.val}}</label>
            </div>
            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.mm.flag===true}">
              <label class="col-sm-5">MM: </label>
              <label class="label-border">{{vm.recruit.mm.val}}</label>
            </div>
            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.ve.flag===true}">
              <label class="col-sm-5">VE: </label>
              <label class="label-border">{{vm.recruit.ve.val}}</label>
            </div>
            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.qt.flag===true}">
              <label class="col-sm-5">QT: </label>
              <label class="label-border">{{vm.recruit.qt.val}}</label>
            </div>
            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.dlab.flag===true}">
              <label class="col-sm-5">DLAB: </label>
              <label class="label-border">{{vm.recruit.dlab.val}}</label>
            </div>

            <div class="clearfix"></div>
          </div>
        </div>
      </div>

      <!-- vision -->
      <div class="grid-item grid-item--vision">
        <div class="panel widget-panel">
          <div class="panel-body">
            <div class="text-center" uib-tooltip="VISION">
                  <span class="fa-stack fa-4x text-primary">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-eye fa-stack-1x fa-inverse"></i>
                  </span>
                </div>

                <div>
                  <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.vision.color.flag}" uib-tooltip="{{vm.selectedPef.requirements.vision.color.description}}">
                    <label class="pull-left">Color Perception:</label>
                    <label class="label-border">{{vm.recruit.vision.color.val}}</label>
                  </div>
                </div>

                <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.vision.acuity.flag}">
                    <label class="control-label pull-left">Acuity 20/</label>
                  <label class="label-border pull-left" id="min1">{{vm.recruit.vision.acuity.val1}}</label>
                  <label class="col-lg-2 ">20/</label>
                  <label class="label-border" id="min2">{{vm.recruit.vision.acuity.val2}}</label>
                </div>

                <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.vision.depth.flag}">
                  <label>
                    <input type="checkbox" disabled ng-checked="vm.recruit.vision.depth.has">Normal Depth Perception</label>
                </div>

                <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.vision.correctable.flag}">
                  <label>
                    <input type="checkbox" disabled ng-checked="vm.recruit.vision.correctable.has">Correctable to 20/20</label>
                </div>

                <div class="clearfix"></div>
            </div>
          </div>

      </div>

      <!-- driving -->
      <div class="grid-item">
        <div class="panel widget-panel">
            <div class="panel-body">
              <div class="text-center" uib-tooltip="DRIVING">
              <span class="fa-stack fa-4x text-primary">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-car fa-stack-1x fa-inverse"></i>
              </span>
              </div>

              <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.driving.violations.flag}">
                <label for="trafficViolations" class="col-xs-7"> Traffic Violations:</label>
                <label id="trafficViolations" class="label-border">{{vm.recruit.driving.violations.val}}</label>
              </div>

              <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.driving.offenses.flag}">
                <label for="drivingoffenses" class="col-xs-7">Driving Offenses:</label>
                <label id="drivingoffenses" class="label-border">{{vm.recruit.driving.offenses.val}}</label>
              </div>

              <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.driving.license.flag}">
                <label><input type="checkbox" disabled ng-checked="vm.recruit.driving.license.has">Drivers License</label>
              </div>

            </div>
          </div>
        
      </div>

      <!-- misconduct -->
      <div class="grid-item">
        <div class="panel widget-panel">
          <div class="panel-body">
          <div class="text-center" uib-tooltip="MISCONDUCT">
            <span class="fa-stack fa-4x text-primary">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-gavel fa-stack-1x fa-inverse"></i>
            </span>
          </div>

                <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.moral.conduct.flag}">
                  <label for="misconductoffenses" class="col-xs-8">Conduct Offenses:</label>
                  <label id="misconductoffenses" class="label-border">{{vm.recruit.moral.conduct.val}}</label>
                </div>

                <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.moral.marijuana.flag}">
                  <label for="marijuanaoffenses" class="col-xs-8">Marijuana Offenses:</label>
                  <label class="label-border" id="marijuanaoffenses">{{vm.recruit.moral.marijuana.val}}</label>
                </div>

                <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.moral.otherDrugs.flag}">
                  <label for="drugoffenses" class="col-xs-8">Other Drug Offenses:</label>
                  <label class="label-border" id="drugoffenses">{{vm.recruit.moral.otherDrugs.val}}</label>
                </div>

                <div class="clearfix"></div>

              </div>
            </div>

      </div>

      <!-- quals -->
      <div class="grid-item grid-item--quals">
        <div class="panel widget-panel">
          <div class="panel-body">
            <div class="text-center" uib-tooltip="QUALIFICATIONS">
              <span class="fa-stack fa-4x text-primary">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-trophy fa-stack-1x fa-inverse"></i>
              </span>
            </div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.waterQual.flag}">
              <label><input type="checkbox" disabled ng-checked="vm.recruit.waterQual.has">WS-B(+) Water Surv. Cert</label>
            </div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.flightPhysical.flag}">
              <label><input type="checkbox" disabled ng-checked="vm.recruit.flightPhysical.has">Flight Physical</label>
            </div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.speech.flag}">
              <label><input type="checkbox" disabled ng-checked="vm.recruit.speech.has">Clarity of Speech</label>
            </div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.pftClass1.flag}">
              <label><input type="checkbox" disabled ng-checked="vm.recruit.pftClass1.has">1st Class PFT Score</label>
            </div>

            <div class="div-flag" ng-class="{'text-danger' : vm.selectedPef.requirements.prpScreen.flag}">
              <label class="pull-left">PRP Unfav. Responses: </label>
              <label class="label-border" id="min3">{{vm.recruit.prpScreen.val}}</label>
            </div>

          </div>
        </div>

      </div>  <!-- QUALS widg -->
    </div>  <!-- MASONRY -->

  </div>  

</div>  <!-- outer container -->

<div class="clearfix"></div>
